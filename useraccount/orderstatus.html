<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>order status</title>
  <link rel="stylesheet" href="../css/nav.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="js/navacc.js"></script>
</head>
<style>
  * {
   font-family: 'Inter', sans-serif;
}
</style>
<body>
  <div id="navbar"></div>

    <!-- Profile Header 
    <div class="flex flex-col md:flex-row items-center md:items-center w-full bg-[#1C359A] py-10 px-4 md:px-36">
      <div class=" relative -mb-24 w-24 h-24 md:w-32 md:h-32 rounded-full bg-white flex items-center justify-center text-[#1C359A] text-2xl md:text-4xl">
        <span id="userInitials">--</span>
      </div>


      <div class=" mt-4 md:mt-0 md:ml-4 text-center md:text-left">
        <h2 class="absolute top-1/2 text-lg md:text-xl text-white font-semibold" id="userName">Loading...</h2>
        <p class="text-sm text-white" id="userAddress">Loading...</p>
      </div>
      <button id="editProfileBtn" class="mt-4 md:mt-0 md:ml-auto px-4 py-2 bg-blue-500 text-white rounded-md">
        Edit Profile
      </button>
    </div>
  -->
    <!--profile something-->

    <div class="flex flex-row bg-[#1C359A] py-10 px-4 md:px-36 ">

    <div class="flex flex-row  absolute -mb-42 md:flex-row">
      
      <div class="w-40 h-40 shadow-2xl rounded-full bg-white flex items-center justify-center text-[#1C359A] text-2xl md:text-4xl">
            <span id="userInitials">--</span>
      </div>
      
      <div class="mt-8 md:mt-8 md:ml-4 text-center md:text-left ">
        <h2 class="text-lg md:text-xl text-white font-semibold" id="userName">Loading...</h2>
        <p class="text-sm text-white" id="userAddress">Loading...</p>
      </div>

    </div>
    
      <button id="editProfileBtn" class="md:mt-8 mt-8 md:ml-auto px-4 py-2 bg-white text-black font-bold rounded-md">
        Edit Profile
      </button>
    </div>



    <div class="container mx-auto pt-6 px-4 md:px-36 flex flex-col md:flex-row w-full">

      <aside class="w-full mt-12 md:w-64 h-auto md:h-screen py-4 flex flex-col space-y-6">
        <nav class="space-y-4">
          <!-- User Profile -->
          <a id="profile" href="profile.html" class="flex items-center space-x-4">
            <img src="path-to-user-profile-icon.svg" alt="User Profile" class="w-6 h-6">
            <span class="font-semibold">User profile</span>
          </a>
  
          <!-- Cart -->
          <a id="cart" href="cart.html" class="flex items-center space-x-4 text-gray-800 hover:text-blue-600">
            <img src="path-to-cart-icon.svg" alt="Cart" class="w-6 h-6">
            <span class="font-semibold">Cart</span>
          </a>
  
          <!-- Order Status -->
          <a id="orderstatus" href="orderstatus.html" class="flex items-center space-x-4 text-gray-800 hover:text-blue-600">
            <img src="path-to-order-status-icon.svg" alt="Order Status" class="w-6 h-6">
            <span class="font-semibold">Order status</span>
          </a>
  
          <!-- Order History -->
          <a id="orderhistory" href="orderhistory.html" class="flex items-center space-x-4 text-gray-800 hover:text-blue-600">
            <img src="path-to-order-history-icon.svg" alt="Order History" class="w-6 h-6">
            <span class="font-semibold">Order History</span>
          </a>
        </nav>
  
        <!-- Sign Out Button -->
        <div class="mt-6">
          <button class="flex items-center justify-center w-full px-4 py-2 bg-blue-600 text-white font-semibold rounded hover:bg-blue-700">
            <img src="path-to-sign-out-icon.svg" alt="Sign Out" class="w-5 h-5 mr-2">
            SIGN OUT
          </button>
        </div>
      </aside>



    <!-- Sidebar and Profile Card -->
    <main class="w-full">
      <!-- Sidebar -->
     

    <!--
    <div id="order-status" 
         class="w-full">
      <div class="h-1/3 bg-white shadow-2xl flex flex-row gap-2 px-6 py-6 rounded-md">
        <img 
        id="order-img"
        src="#" alt=""
        class="w-1/3 h-full rounded-md">
      </div>
    </div>    
  -->



     <!-- order status-->
    <div id="order-status" class="w-full md:ml-6"> 
      <!-- Order Details Container -->
      <div class="h-auto bg-white shadow-2xl flex flex-row gap-4 px-6 py-6 rounded-md items-center">
        <!-- Order Image -->
        <img 
          id="order-img"
          src="{{order.image}}" 
          alt="Order Image"x
          class="w-1/3 h-full rounded-md object-contain"
        />
    
        <!-- Order Details -->
        <div class="flex flex-col w-2/3">
          <!-- Order Number and Date -->
          <div class="flex justify-between text-gray-700 mb-2">
            <h2 class="font-semibold text-lg">Order #{{order.number}}</h2>
            <p class="text-sm">{{order.date}}</p>
          </div>
    
          <!-- Total Cost -->
          <div class="flex justify-between text-gray-700 mb-2">
            <span class="font-medium">Total Cost:</span>
            <span class="font-medium text-green-600">₱{{order.total}}</span>
          </div>
    
          <!-- Service Option -->
          <div class="flex justify-between text-gray-700 mb-4">
            <span class="font-medium">Service Option:</span>
            <span class="text-sm">{{order.serviceOption}}</span>
          </div>
    
          <!-- Cancel Order Button -->
          <button 
            id="cancel-order-btn"
            class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm self-start"
            onclick="cancelOrder('{{order.id}}')"
          >
            Cancel Order
          </button>
        </div>
      </div>
    </div>
    

  </main>
</div>
      

  <div id="footer"></div>

<script>
  // Fetch order details from the backend
async function fetchOrderDetails(orderId) {
  try {
    const response = await fetch(`/api/orders/${orderId}`);
    const order = await response.json();

    // Dynamically populate order details
    document.querySelector("#order-img").src = order.image;
    document.querySelector("#order-status").innerHTML = `
      <div class="h-auto bg-white shadow-2xl flex flex-row gap-4 px-6 py-6 rounded-md items-center">
        <img 
          src="${order.image}" 
          alt="Order Image"
          class="w-1/3 h-full rounded-md object-cover"
        />
        <div class="flex flex-col w-2/3">
          <div class="flex justify-between text-gray-700 mb-2">
            <h2 class="font-semibold text-lg">Order #${order.number}</h2>
            <p class="text-sm">${order.date}</p>
          </div>
          <div class="flex justify-between text-gray-700 mb-2">
            <span class="font-medium">Total Cost:</span>
            <span class="font-medium text-green-600">₱${order.total}</span>
          </div>
          <div class="flex justify-between text-gray-700 mb-4">
            <span class="font-medium">Service Option:</span>
            <span class="text-sm">${order.serviceOption}</span>
          </div>
          <button 
            class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm self-start"
            onclick="cancelOrder('${order.id}')"
          >
            Cancel Order
          </button>
        </div>
      </div>`;
  } catch (error) {
    console.error("Failed to fetch order details:", error);
  }
}

// Example cancel order function
function cancelOrder(orderId) {
  alert(`Order ${orderId} will be canceled.`);
  // Perform API call to cancel the order
}

// Initialize fetch with a specific order ID
fetchOrderDetails("12345");

</script>
</body>
</html>